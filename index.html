<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Tesla Assistant</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen;
      background-color: #121212;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      gap: 30px;
    }
    #greeting {
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      margin-top: 20px;
    }
    .card {
      position: relative; /* –¥–æ–±–∞–≤–∏–ª–∏, —á—Ç–æ–±—ã popup –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
      background-color: #03c75a;
      border-radius: 12px;
      width: 100%;
      max-width: 350px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: background 0.2s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    .card:hover {
      background-color: #02b14e;
    }
    .card h2 {
      margin: 0;
      font-size: 22px;
      color: #121212;
    }
    /* –≤–æ—Ç –∑–¥–µ—Å—å —É–±—Ä–∞–ª–∏ –≤—Ç–æ—Ä–æ–µ display:flex */
    #contacts-popup {
      display: none;          /* –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–æ */
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.95);
      border-radius: 12px;
      padding: 20px;
      box-sizing: border-box;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    #contacts-popup button {
      margin: 10px 0;
      width: 100%;
      max-width: 300px;
      background: #03c75a;
      border: none;
      border-radius: 8px;
      padding: 14px;
      font-size: 16px;
      color: #121212;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    #contacts-popup .close-btn {
      background: #d32f2f;
      position: absolute;
      top: 20px; right: 20px;
      padding: 8px 12px;
      font-size: 14px;
      color: #fff;
    }
  </style>
</head>
<body>
  <div id="greeting">–í—ñ—Ç–∞—î–º–æ, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á!</div>

  <div class="card" onclick="location.href='create.html'">
    <h2>üì© –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—è–≤–∫—É</h2>
  </div>

  <div class="card" onclick="location.href='history.html'">
    <h2>üìú –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞—è–≤–æ–∫</h2>
  </div>

  <div class="card" onclick="toggleContacts(event)">
    <h2>üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
    <div id="contacts-popup">
      <button class="close-btn" onclick="toggleContacts(event)">‚úñ –ó–∞–∫—Ä–∏—Ç–∏</button>
      <button onclick="window.location.href='tel:+380674679495'">
        üìû +38 067 467 94 95
      </button>
      <button onclick="window.open(
          'https://www.google.com/maps/dir/?api=1&destination=–°—Ç–æ–ª–∏—á–Ω–µ+—à–æ—Å–µ+103,+–ö–∏—ó–≤+03026',
          '_blank'
        )">
        üìç –°—Ç–æ–ª–∏—á–Ω–µ —à–æ—Å–µ, 103, –ö–∏—ó–≤, 03026
      </button>
    </div>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    const firstName = tg.initDataUnsafe?.user?.first_name || '–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á';
    document.getElementById('greeting').innerText = `–í—ñ—Ç–∞—î–º–æ, ${firstName}!`;

    function toggleContacts(e) {
      e.stopPropagation();
      const popup = document.getElementById('contacts-popup');
      // –µ—Å–ª–∏ —Å–∫—Ä—ã—Ç–æ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º flex, –∏–Ω–∞—á–µ ‚Äî —Å–∫—Ä—ã–≤–∞–µ–º
      popup.style.display = popup.style.display === 'flex' ? 'none' : 'flex';
    }
  </script>
</body>
</html>
